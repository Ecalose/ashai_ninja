var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,n=(e,a)=>{for(var t in a||(a={}))o.call(a,t)&&l(e,t,a[t]);if(s)for(var t of s(a))r.call(a,t)&&l(e,t,a[t]);return e},c=(e,s)=>a(e,t(s));import{p as d,a as i,o as u,c as p,r as m,b as g,w as f,F as v,k as b,d as y,e as k,t as h,f as w,g as x,u as C,_,h as I,i as j,j as S,l as V,m as z,n as P,q as U,s as L,v as R}from"./vendor.820f77fa.js";d("data-v-9fbf088c"),i();const A={},O={class:"NinjaLogo",src:"/assets/logo.03d6d6da.png",alt:"logo"};A.render=function(e,a){return u(),p("img",O)};const N={components:{Logo:A}},K=f("data-v-7fe153b3");d("data-v-7fe153b3");const D={class:"header"},q={class:"header-wrapper"},E={class:"flex items-center"},J=g("p",{class:"pl-3 select-none"},"Ninja",-1);i();const F=K(((e,a,t,s,o,r)=>{const l=m("Logo");return u(),p("div",D,[g("div",q,[g("div",E,[g(l,{class:"h-10 w-10"}),J])])])}));N.render=F,N.__scopeId="data-v-7fe153b3";const H={class:"main"},Z={setup:e=>(e,a)=>{const t=m("router-view");return u(),p(v,null,[g(N),g("div",H,[g(t)])],64)}};const B=b.create({prefixUrl:"/api",retry:{limit:0}});function G(e){return B.post("update",{json:e}).json()}const M={setup(){const e=C();let a=y({username:"",cookie:"",nickName:void 0,timestamp:void 0,userStatus:void 0});const t=async()=>{try{const e=localStorage.getItem("eid");if(!e)return void s();if(e){const t=await function(e){const a=new URLSearchParams;return a.set("eid",e),B.get("userinfo",{searchParams:a}).json()}(e);if(!t)return _.error("获取用户CK信息失败，请重新登录"),void s();a.nickName=t.data.username,a.userStatus=t.data.status,a.timestamp=new Date(t.data.timestamp).toLocaleString()}}catch(e){console.error(e)}};k(t);const s=()=>{localStorage.removeItem("eid"),e.push("/login")};return c(n({},h(a)),{getInfo:t,logout:s,delAccount:async()=>{try{const e=localStorage.getItem("eid"),a=await function(e){return B.post("delaccount",{json:e}).json()}({eid:e});200===a.data.code?(_.success(a.data.msg),s()):_.error(a.data.msg||a.message)}catch(e){console.error(e)}},updateUsername:async()=>{try{const e=localStorage.getItem("eid");if(e){const t=await G({eid:e,ck:null,username:a.username});t.data&&t.data.code&&200===t.data.code?_.success(t.data.msg):_.error(t.data.msg||t.message)}await t()}catch(e){console.error(e)}},updateCookie:async()=>{try{const e=localStorage.getItem("eid");let s;if(e){const t=a.cookie.match(/pt_key=(.*?);/)&&a.cookie.match(/pt_key=(.*?);/)[1],o=a.cookie.match(/pt_pin=(.*?);/)&&a.cookie.match(/pt_pin=(.*?);/)[1];if(!t||!o)return void _.error("cookie 解析失败，请检查后重试！");s="pt_key="+t+";pt_pin="+o+";";const r=await G({eid:e,ck:s,username:null});r.data&&r.data.code&&200===r.data.code?_.success(r.data.msg):_.error(r.data.msg||r.message)}await t()}catch(e){console.error(e)}},disableCK:async()=>{try{const e=localStorage.getItem("eid");if(e){const a=await function(e){return B.post("disable",{json:e}).json()}({eid:e});a.data&&a.data.code&&200===a.data.code?_.success(a.msg):_.error(a.data.msg||a.message)}await t()}catch(e){console.error(e)}},enableCK:async()=>{try{const e=localStorage.getItem("eid");if(e){const a=await function(e){return B.post("enable",{json:e}).json()}({eid:e});a.data&&a.data.code&&200===a.data.code?_.success(a.msg):_.error(a.data.msg||a.message)}await t()}catch(e){console.error(e)}}})}},Q=f("data-v-e8773504");d("data-v-e8773504");const T={class:"content"},W={class:"card"},X=g("div",{class:"card-header"},[g("p",{class:"card-title"},"个人中心")],-1),Y={class:"card-body"},$=I("状态："),ee={key:0,style:{color:"red",display:"inline"}},ae={key:1,style:{color:"green",display:"inline"}},te={class:"card-footer"},se=I("退出登录"),oe=I("删除账号"),re={class:"card"},le=g("div",{class:"card-header"},[g("p",{class:"card-title"},"修改用户名")],-1),ne={class:"card-body text-center"},ce={class:"card-footer"},de=I("修改"),ie={class:"card"},ue=g("div",{class:"card-header"},[g("p",{class:"card-title"},"更新Cookie")],-1),pe={class:"card-body text-center"},me={class:"card-footer"},ge=I("更新");i();const fe=Q(((e,a,t,s,o,r)=>{const l=m("el-button"),n=m("el-input");return u(),p("div",T,[g("div",W,[X,g("div",Y,[g("p",null,"昵称："+w(e.nickName),1),g("p",null,"更新时间："+w(e.timestamp),1),g("span",null,[$,1===e.userStatus?(u(),p("p",ee,"过期已禁用")):x("",!0),0===e.userStatus?(u(),p("p",ae,"正常")):x("",!0)])]),g("div",te,[g(l,{size:"small",auto:"",onClick:s.logout},{default:Q((()=>[se])),_:1},8,["onClick"]),g(l,{type:"danger",size:"small",auto:"",onClick:s.delAccount},{default:Q((()=>[oe])),_:1},8,["onClick"])])]),g("div",re,[le,g("div",ne,[g(n,{modelValue:e.username,"onUpdate:modelValue":a[1]||(a[1]=a=>e.username=a),size:"small",clearable:"",class:"my-4 w-full"},null,8,["modelValue"])]),g("div",ce,[g(l,{type:"success",size:"small",auto:"",onClick:s.updateUsername},{default:Q((()=>[de])),_:1},8,["onClick"])])]),g("div",ie,[ue,g("div",pe,[g(n,{modelValue:e.cookie,"onUpdate:modelValue":a[2]||(a[2]=a=>e.cookie=a),size:"small",clearable:"",class:"my-4 w-full"},null,8,["modelValue"])]),g("div",me,[g(l,{type:"success",size:"small",auto:"",onClick:s.updateCookie},{default:Q((()=>[ge])),_:1},8,["onClick"])])])])}));M.render=fe,M.__scopeId="data-v-e8773504";const ve={setup(){const e=C();let a=y({marginCount:0,allowAdd:!0,showRegister:!1,showLogin:!0,userInfo:{username:void 0,cookie:"",ptKey:"",ptPin:""},registerRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],cookie:[{required:!0,message:"请输入cookie",trigger:"blur"}]}});const t=async()=>{try{const e=(await B.get("info").json()).data;a.marginCount=e.marginCount,a.allowAdd=e.allowAdd}catch(e){console.error(e)}};return k((()=>{localStorage.getItem("eid")?e.push("/"):t()})),c(n({},h(a)),{getInfo:t,loginUser:async()=>{try{const s=(await(t=a.userInfo,B.post("login",{json:t}).json())).data;0===s.errCode?(localStorage.setItem("eid",s.eid),e.push("/")):(404===s.errCode&&_.error("未注册的用户"),500===s.errCode&&_.error("未知错误"))}catch(s){console.error(s)}var t},registerConfirm:async()=>{try{const t=a.userInfo.cookie.match(/pt_key=(.*?);/)&&a.userInfo.cookie.match(/pt_key=(.*?);/)[1],s=a.userInfo.cookie.match(/pt_pin=(.*?);/)&&a.userInfo.cookie.match(/pt_pin=(.*?);/)[1];if(!t||!s)return void _.error("cookie 解析失败，请检查后重试！");a.userInfo.ptKey=t,a.userInfo.ptPin=s;const o=(await(e=a.userInfo,B.post("register",{json:e}).json())).data;0===o.errCode?(_.success(o.msg),a.showLogin=!0,a.showRegister=!1):(201===o.errCode&&_.error("用户名重复"),500===o.errCode&&_.error("未知错误"))}catch(t){console.error(t)}var e},registerCancel:async()=>{a.showLogin=!0,a.showRegister=!1},openRegister:async()=>{a.showLogin=!1,a.showRegister=!0}})}},be=f("data-v-be850696");d("data-v-be850696");const ye={class:"content"},ke=j('<div class="card" data-v-be850696><div class="card-header" data-v-be850696><div class="flex items-center justify-between" data-v-be850696><p class="card-title" data-v-be850696>Ninja提醒您</p></div></div><div class="card-body text-base leading-6" data-v-be850696><p style="color:red;" data-v-be850696>撸豆有可能造成的任何损失本人概不负责！！！！！！！！！</p><p data-v-be850696>为了您的财产安全请关闭免密支付以及打开支付验密（京东-设置-支付设置-支付验密设置）。</p><p data-v-be850696>建议京东账户绑定微信以保证提现能到账。</p><p style="font-weight:bold;" data-v-be850696>安全起见，切勿泄露您的cookie！</p></div><div class="card-footet" data-v-be850696></div></div>',1),he={key:0,class:"card"},we=g("div",{class:"card-header"},[g("div",{class:"flex items-center justify-between"},[g("p",{class:"card-title"},"登录")])],-1),xe={style:{padding:"30px"}},Ce=I("登录"),_e=I("注册"),Ie={key:1,class:"card"},je={class:"card-header"},Se={class:"flex items-center justify-between"},Ve=g("p",{class:"card-title"},"注册",-1),ze={class:"ml-2 px-2 py-1 bg-gray-200 rounded-full font-normal text-xs"},Pe=j('<div class="card-body text-base leading-6" data-v-be850696><p data-v-be850696>安卓手机傻瓜式获取CK（强烈推荐，非常方便）<a style="" href="https://github.com/ZhuSky/JDCookie" target="_blank" data-v-be850696>点此访问下载连接</a></p><p data-v-be850696>电脑用户浏览器登录<a style="" href="https://m.jd.com/" target="_blank" data-v-be850696>JD官网</a>，点击我的出现登录页面后点击F12，通过开发者工具获取cookie。</p><p data-v-be850696>手机用户可以使用Alook浏览器登录<a style="" href="https://m.jd.com/" target="_blank" id="jd" data-v-be850696>JD官网</a>，并在菜单-工具箱-开发者工具-Cookies中获取（Android和iPhone通用）。</p><p data-v-be850696>另外也可以使用抓包工具（iPhone：Stream，Android：HttpCanary）抓取京东app的ck</p><p data-v-be850696>cookie直接填入输入框即可，Ninja会自动正则提取pt_key和pt_pin。</p><span class="card-subtitle" style="color:red;" data-v-be850696> 可以直接填写整个cookie。</span><br data-v-be850696><span class="card-subtitle" style="color:red;" data-v-be850696> 注意格式（pt_key=xxxxxxxxxxxxxxx;pt_pin=xxxxxxxxxxxxxx;）注意分号不能少！</span><br data-v-be850696><span class="card-subtitle" data-v-be850696> 请在下方输入您的 cookie 注册。</span><br data-v-be850696></div>',1),Ue={style:{padding:"30px"}},Le=I("确定"),Re=I("返回");i();const Ae=be(((e,a,t,s,o,r)=>{const l=m("el-input"),n=m("el-form-item"),c=m("el-button"),d=m("el-form");return u(),p("div",ye,[ke,e.showLogin?(u(),p("div",he,[we,g("div",xe,[g(d,{model:e.userInfo,"label-width":"30%",size:"small"},{default:be((()=>[g(n,{label:"用户名",prop:"username"},{default:be((()=>[g(l,{modelValue:e.userInfo.username,"onUpdate:modelValue":a[1]||(a[1]=a=>e.userInfo.username=a),style:{width:"50%","margin-left":"20px"}},null,8,["modelValue"])])),_:1}),g(n,{style:{"text-align":"center"},"label-width":"0px"},{default:be((()=>[g(c,{type:"primary",disabled:!e.userInfo.username,size:"small",onClick:s.loginUser},{default:be((()=>[Ce])),_:1},8,["disabled","onClick"]),e.allowAdd?(u(),p(c,{key:0,onClick:s.openRegister,size:"small"},{default:be((()=>[_e])),_:1},8,["onClick"])):x("",!0)])),_:1})])),_:1},8,["model"])])])):x("",!0),e.showRegister?(u(),p("div",Ie,[g("div",je,[g("div",Se,[Ve,g("span",ze,"余量："+w(e.marginCount),1)]),Pe]),g("div",Ue,[g(d,{model:e.userInfo,rules:e.registerRules,size:"small","label-width":"30%"},{default:be((()=>[g(n,{label:"用户名",prop:"username"},{default:be((()=>[g(l,{modelValue:e.userInfo.username,"onUpdate:modelValue":a[2]||(a[2]=a=>e.userInfo.username=a),style:{width:"50%","margin-left":"20px"}},null,8,["modelValue"])])),_:1}),g(n,{label:"Cookie",prop:"cookie"},{default:be((()=>[g(l,{modelValue:e.userInfo.cookie,"onUpdate:modelValue":a[3]||(a[3]=a=>e.userInfo.cookie=a),style:{width:"70%","margin-left":"20px"}},null,8,["modelValue"])])),_:1}),g(n,{style:{"text-align":"center"},"label-width":"0px"},{default:be((()=>[g(c,{type:"primary",onClick:s.registerConfirm,size:"small"},{default:be((()=>[Le])),_:1},8,["onClick"]),g(c,{onClick:s.registerCancel,size:"small"},{default:be((()=>[Re])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])])):x("",!0)])}));ve.render=Ae,ve.__scopeId="data-v-be850696";const Oe=[{path:"/",component:M},{path:"/login",component:ve}],Ne=S({history:V(),routes:Oe}),Ke=[P,U,_,L,R],De=[_],qe=z(Z);Ke.forEach((e=>{qe.component(e.name,e)})),De.forEach((e=>{qe.use(e)})),qe.use(Ne),qe.mount("#app");
